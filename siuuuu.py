import cv2
import numpy as np

# Создаем пустое изображение размером 500x500 пикселей
img = np.zeros((500, 500, 3), np.uint8)

# Начальные координаты точек
x1, y1 = 250, 100
x2, y2 = 250, 400

# Отображаем изображение
cv2.imshow('Stickman', img)

# Основной цикл программы
while True:
    # Создаем копию изображения
    frame = img.copy()
    
    # Рисуем палочку
    cv2.line(frame, (250, 100), (250, 400), (255, 0, 0), 2)
    
    # Рисуем точки
    cv2.circle(frame, (x1, y1), 5, (0, 255, 0), -1)
    cv2.circle(frame, (x2, y2), 5, (0, 255, 0), -1)
    
    # Рисуем линию между точками
    cv2.line(frame, (x1, y1), (x2, y2), (0, 255, 0), 2)
    
    # Отображаем изображение
    cv2.imshow('Stickman', frame)
    
    # Обработка событий кнопок
    key = cv2.waitKey(1)
    if key == 27: # Нажатие кнопки ESC для завершения программы
        break
    
    # Изменяем координаты точек в зависимости от положения сгибающейся палочки
    x1 = 250 - int((250 - 100) * np.sin(np.pi * (y1 - 100) / 300))
    x2 = 250 + int((250 - 100) * np.sin(np.pi * (y1 - 100) / 300))
    
# Закрываем все окна
cv2.destroyAllWindows()